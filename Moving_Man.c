#include <stdio.h>
#include <conio.h>
#include <graphics.h>
#include <math.h>
#include <dos.h>
#include <stdlib.h>
#define ScreenWidth getmaxx()
#define ScreenHeight getmaxy()

int main()
{
int gd=DETECT,gm,x1,y1,x2,y2,a=0;
initgraph (&gd, &gm,"..\\bgi");
int i=0;

while(!kbhit())
{
i+=1;
delay(40);
cleardevice();
line (200,150,400,150);
line (200,150,140,210);
line (200,150,240,220);
line (400,150,450,220);
line (240,220,450,220);


line (145,205,145,280);
line (235,213,235,310);
line (145,280,235,310);
line (445,220,445,290);
line (235,310,445,290);

line (145,280,130,288);
line (235,310,237,328);
line(445,290,466,301);

line(130,288,237,328);
line (237,328,466,301);
rectangle(170,270,200,230);


line (335,240,335,300);
line(360,240,360,297);
line (335,240,360,240);

line (347.5,240,337,238);
line(347.5,240,339,235);
line (347.5,240,342,232);
line(347.5,240,347,230);
line (347.5,240,352,232);
line (347.5,240,355,235);
line(347.5,240,357,238);


ellipse (347,250,336,210,15,20);
line (334,240,334,300);
line (333,240,333,300);
line (332,240,332,300);

line (361,240,361,297);
 line (362,240,362,297);
//window
line (176,270,176,230);
line (182,270,182,230);
line(188,270,188,230);
line (194,270,194,230);
//sun
circle(100+i/3,65,25);
//long line
line (75+i/3,65,30+i/3,65);
line (82+i/3,82,54+i/3,105);
line (100+i/3,90,100+i/3,125);
line (118+i/3,84,144+i/3,110);
line(125+i/3,65,170+i/3,65);
line (118+i/3,48,148+i/3,18);
line (100+i/3,40,100+i/3,5);
line (82+i/3,48,52+i/3,18);

//small line
line (76+i/3,75,65+i/3,80);
line (90+i/3,88,84+i/3,100);
line (110+i/3,87,115+i/3,100);
line(124+i/3,75,137+i/3,82);
line (123+i/3,57,137+i/3,50);
line (110+i/3,43,116+i/3,30);
line (90+i/3,40,85+i/3,27);
line (76+i/3,55,62+i/3,51);


line(1,205,100,220);
line(100,220,80,225);
line (80,225,145,230);
line(442,210,500,205);
line(500,205,485,210);
line (485,210,540,205);
line(540,205,525,210);
line (525,210,650,215);
//river down line
line (1,290,80,276);
line (80,276,70,282);
line (70,282,145,270);
line(445,280,525,288);
line (515,285,650,310);

//man
circle(170+i/3,355,15);
line(170+i/3,370,170+i/3,420);
if(i%12==0 || i%12==1 || i%12==11){
    line(170+i/3,420,170+i/3,455);
}
else{
    line(170+i/3,380,155+i/3,405);
    line(170+i/3,380,185+i/3,405);
    line(170+i/3,420,155+i/3,455);
    line(170+i/3,420,185+i/3,455);
}


//cloud
//1st cloud
ellipse (50-i/6,30,60,240,10,15); ;
ellipse (75-i/6,20,345,165,20,15);
ellipse (112-i/6,27,340,160,20,15);
ellipse (118-i/6,42,230,50,20,10);
ellipse (76-i/6,46,163,340,31,15);
//2nd cloud
ellipse (200-i/6,30,60,240,10,15);
ellipse (225-i/6,20,345,165,20,15);
ellipse (262-i/6,27,340,160,20,15);
ellipse (268-i/6,42,230,50,20,10);
ellipse (226-i/6,46,163,340,31,15);
ellipse (300-i/6,21,20,182,21,19);
ellipse (325-i/6,31,290,100,21,15);
ellipse (299-i/6,45,228,20,33,11);
//3rd cloud
ellipse (450-i/6,30,60,240,10,15); ;
ellipse (475-i/6,20,345,165,20,15);
ellipse (512-i/6,27,340,160,20,15);
ellipse (518-i/6,42,230,50,20,10);
ellipse (476-i/6,46,163,340,31,15);
//4th cloud
ellipse (600-i/6,30,60,240,10,15);
ellipse (625-i/6,20,345,165,20,15);
ellipse (662-i/6,27,340,160,20,15);
ellipse (668-i/6,42,230,50,20,10);
ellipse (626-i/6,46,163,340,31,15);
ellipse (700-i/6,21,20,182,21,19);
ellipse (725-i/6,31,290,100,21,15);
ellipse (699-i/6,45,228,20,33,11);

}
getch();
closegraph();


return 0;
}